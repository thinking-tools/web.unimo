(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{3262:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/android",function(){return n(4104)}])},4104:function(e,t,n){"use strict";n.r(t),n.d(t,{crypto:function(){return r},default:function(){return p}});var o,i=n(5893),d=n(9743),c=n(9153),a=n(7294),l=n(8743),s=n.n(l);let r=null===(o=n.g.window)||void 0===o?void 0:o.crypto;function p(){let e,t;let o=(0,d.wI)({clipboard:[],contacts:[],data:[]}),l=(0,d.ms)(o);if(!r)try{r=n(2474).webcrypto}catch(e){logger.error("Failed to load webcrypto",e)}let p=!1,u=!1,w=!1,y=null,m=!1,f=(e,n)=>{let i=Date.now();"contacts"===e&&(n=JSON.parse(n)),o[e].push({type:e,content:n,timestamp:i,deviceId:t})},g=(e,n)=>{let i=Date.now(),d=o[e].slice().findIndex(t=>t.type===e);"contacts"===e&&(n=JSON.parse(n)),-1===d?o[e].push({type:e,content:n,timestamp:i,deviceId:t}):o[e].splice(d,1,{type:e,content:n,timestamp:i,deviceId:t})},h=e=>{o[e].splice(0,o[e].length)},_=(e,t)=>{let n=t.toJSON();console.log("newData ::: "+e,n),void 0!==window.Android&&window.Android.update(e,JSON.stringify(n)),N()},N=()=>{let e=JSON.stringify(o);console.log(e)},v=async()=>{m||(m=!0,window.addEntry=f,window.wipe=h,window.updateEntry=g,window.showAll=N,console.log=e=>{let t=document.createElement("li"),n=document.createTextNode(e);t.appendChild(n),document.getElementById("myList").appendChild(t)},console.error=e=>{let t=document.createElement("li"),n=document.createTextNode(e);t.appendChild(n),t.style.color="red",document.getElementById("myList").appendChild(t)},console.log("login: "+p),console.log("token: "+u),e=new c.XM(l,y,{type:"alias",alias:"#test_public_plain:synapse.nas.s4fu.com"}),await e.initialize(),t=y.getDeviceId(),void 0!==window.Android&&window.Android.onReady(),(0,d.QT)(o.clipboard,()=>{_("clipboard",o.clipboard)}),(0,d.QT)(o.contacts,()=>{_("contacts",o.contacts)}),(0,d.QT)(o.data,()=>{_("data",o.data)}))};return(0,a.useEffect)(()=>{let e=new URLSearchParams(window.location.search);p=e.get("login"),u=e.get("token"),w=e.get("deviceId"),p&&u&&w&&(y=s().createClient({baseUrl:"https://synapse.nas.s4fu.com",deviceId:w,accessToken:u,userId:"@"+p+":synapse.nas.s4fu.com",isVoipWithNoMediaAllowed:!1}),v().catch(console.error))},[]),(0,i.jsxs)("div",{children:["Android",(0,i.jsx)("ul",{id:"myList"})]})}},2361:function(){},4616:function(){}},function(e){e.O(0,[440,708,714,189,662,479,17,882,774,888,179],function(){return e(e.s=3262)}),_N_E=e.O()}]);